client_max_body_size  2048;
timeout               1000;
log_level             VERBOSE;
upload_store ./tmp;

server {
    listen       418;
    error_page   400 404 500 ./www/teapot/error.png;
    server_name  localhost:418;
	cgi_pass py ./test/testcase/cgi_script/simple_cgi.py;
	cgi_pass teapot ./test/testcase/cgi_script/fortune.teapot;
	cgi_limit_except GET;

    location / {
        alias          ./www/teapot/;
        limit_except   GET;
        autoindex on;
    }

    location /secret {
        alias ./www/teapot/;
        return  307 ./cgi.teapot?name=teapot;
    }
}
